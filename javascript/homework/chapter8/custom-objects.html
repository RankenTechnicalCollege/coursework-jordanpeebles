<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Objects - Chapter 8 Exercises</title>
</head>
<body>
    <h1>Custom Objects Exercises - Chapter 8</h1>
    <p>Open the browser console (F12) to see the output of all exercises.</p>

    <!-- ========================================
         EXERCISE 1: Library Book System
         ======================================== -->
    <script>
        console.log("=== EXERCISE 1: Library Book System ===");
        
        // Constructor function for Book
        function Book(title, author, isbn, pages, isAvailable) {
            this.title = title;
            this.author = author;
            this.isbn = isbn;
            this.pages = pages;
            this.isAvailable = isAvailable;
        }

        // Prototype method: getInfo()
        Book.prototype.getInfo = function() {
            return `"${this.title}" by ${this.author} (ISBN: ${this.isbn}) - ${this.pages} pages - ${this.isAvailable ? 'Available' : 'Checked Out'}`;
        };

        // Prototype method: checkOut()
        Book.prototype.checkOut = function() {
            if (this.isAvailable) {
                this.isAvailable = false;
                console.log(`âœ“ "${this.title}" has been checked out.`);
            } else {
                console.log(`âœ— "${this.title}" is already checked out.`);
            }
        };

        // Prototype method: returnBook()
        Book.prototype.returnBook = function() {
            if (!this.isAvailable) {
                this.isAvailable = true;
                console.log(`âœ“ "${this.title}" has been returned.`);
            } else {
                console.log(`âœ— "${this.title}" was not checked out.`);
            }
        };

        // Testing: Create book instances
        const book1 = new Book("The Great Gatsby", "F. Scott Fitzgerald", "978-0743273565", 180, true);
        const book2 = new Book("1984", "George Orwell", "978-0451524935", 328, true);

        // Test getInfo()
        console.log("\nTesting getInfo():");
        console.log(book1.getInfo());
        console.log(book2.getInfo());

        // Test checkOut()
        console.log("\nTesting checkOut():");
        book1.checkOut();
        console.log(book1.getInfo());
        book1.checkOut(); // Try checking out again

        // Test returnBook()
        console.log("\nTesting returnBook():");
        book1.returnBook();
        console.log(book1.getInfo());
        book2.returnBook(); // Try returning a book that wasn't checked out

        console.log("\n");
    </script>

    <!-- ========================================
         EXERCISE 2: Student Grade Manager
         ======================================== -->
    <script>
        console.log("=== EXERCISE 2: Student Grade Manager ===");
        
        // Constructor function for Student
        function Student(firstName, lastName, studentId, grades) {
            this.firstName = firstName;
            this.lastName = lastName;
            this.studentId = studentId;
            this.grades = grades;
        }

        // Prototype method: calculateAverage()
        Student.prototype.calculateAverage = function() {
            if (this.grades.length === 0) return 0;
            const sum = this.grades.reduce((total, grade) => total + grade, 0);
            return sum / this.grades.length;
        };

        // Prototype method: getLetterGrade()
        Student.prototype.getLetterGrade = function() {
            const average = this.calculateAverage();
            if (average >= 90) return 'A';
            if (average >= 80) return 'B';
            if (average >= 70) return 'C';
            if (average >= 60) return 'D';
            return 'F';
        };

        // Prototype method: addGrade()
        Student.prototype.addGrade = function(grade) {
            this.grades.push(grade);
            console.log(`Grade ${grade} added for ${this.firstName} ${this.lastName}`);
        };

        // Testing: Create student instances
        const student1 = new Student("Jordan", "Peebles", "S12345", [79, 82, 91, 90]);
        const student2 = new Student("Emily", "Johnson", "S67890", [95, 88, 91, 93]);

        // Test calculateAverage() and getLetterGrade()
        console.log("\nTesting calculateAverage() and getLetterGrade():");
        console.log(`${student1.firstName} ${student1.lastName} (ID: ${student1.studentId})`);
        console.log(`Grades: ${student1.grades.join(', ')}`);
        console.log(`Average: ${student1.calculateAverage().toFixed(2)}`);
        console.log(`Letter Grade: ${student1.getLetterGrade()}`);

        console.log(`\n${student2.firstName} ${student2.lastName} (ID: ${student2.studentId})`);
        console.log(`Grades: ${student2.grades.join(', ')}`);
        console.log(`Average: ${student2.calculateAverage().toFixed(2)}`);
        console.log(`Letter Grade: ${student2.getLetterGrade()}`);

        // Test addGrade()
        console.log("\nTesting addGrade():");
        student1.addGrade(88);
        console.log(`Updated Grades: ${student1.grades.join(', ')}`);
        console.log(`New Average: ${student1.calculateAverage().toFixed(2)}`);
        console.log(`New Letter Grade: ${student1.getLetterGrade()}`);

        student2.addGrade(97);
        console.log(`Updated Grades: ${student2.grades.join(', ')}`);
        console.log(`New Average: ${student2.calculateAverage().toFixed(2)}`);
        console.log(`New Letter Grade: ${student2.getLetterGrade()}`);

        console.log("\n");
    </script>

    <!-- ========================================
         EXERCISE 3: Bank Account with Private Data
         ======================================== -->
    <script>
        console.log("=== EXERCISE 3: Bank Account with Private Data ===");
        
        // Constructor function with private balance
        function BankAccount(accountHolder, initialBalance) {
            // Private variable
            let balance = initialBalance;

            // Privileged method: getBalance()
            this.getBalance = function() {
                return balance;
            };

            // Privileged method: deposit()
            this.deposit = function(amount) {
                if (amount <= 0) {
                    console.log(`âœ— Deposit failed for ${accountHolder}: Amount must be positive.`);
                    return false;
                }
                balance += amount;
                console.log(`âœ“ Deposited $${amount.toFixed(2)} to ${accountHolder}'s account. New balance: $${balance.toFixed(2)}`);
                return true;
            };

            // Privileged method: withdraw()
            this.withdraw = function(amount) {
                if (amount <= 0) {
                    console.log(`âœ— Withdrawal failed for ${accountHolder}: Amount must be positive.`);
                    return false;
                }
                if (amount > balance) {
                    console.log(`âœ— Withdrawal failed for ${accountHolder}: Insufficient funds. Current balance: $${balance.toFixed(2)}`);
                    return false;
                }
                balance -= amount;
                console.log(`âœ“ Withdrew $${amount.toFixed(2)} from ${accountHolder}'s account. New balance: $${balance.toFixed(2)}`);
                return true;
            };

            // Public property
            this.accountHolder = accountHolder;
        }

        // Prototype method: transfer()
        BankAccount.prototype.transfer = function(amount, targetAccount) {
            console.log(`\nTransfer attempt: $${amount.toFixed(2)} from ${this.accountHolder} to ${targetAccount.accountHolder}`);
            
            if (amount <= 0) {
                console.log(`âœ— Transfer failed: Amount must be positive.`);
                return false;
            }

            if (this.withdraw(amount)) {
                targetAccount.deposit(amount);
                console.log(`âœ“ Transfer completed successfully.`);
                return true;
            } else {
                console.log(`âœ— Transfer failed.`);
                return false;
            }
        };

        // Testing: Create account instances
        const account1 = new BankAccount("Jordan Peebles", 1000);
        const account2 = new BankAccount("Bob Davis", 500);

        // Test getBalance()
        console.log("\nTesting getBalance():");
        console.log(`${account1.accountHolder}'s balance: $${account1.getBalance().toFixed(2)}`);
        console.log(`${account2.accountHolder}'s balance: $${account2.getBalance().toFixed(2)}`);

        // Test deposit()
        console.log("\nTesting deposit():");
        account1.deposit(250);
        account1.deposit(-50); // Validation test: negative amount

        // Test withdraw()
        console.log("\nTesting withdraw():");
        account2.withdraw(100);
        account2.withdraw(-25); // Validation test: negative amount
        account2.withdraw(1000); // Validation test: insufficient funds

        // Test transfer()
        console.log("\nTesting transfer():");
        account1.transfer(200, account2);
        console.log(`${account1.accountHolder}'s balance: $${account1.getBalance().toFixed(2)}`);
        console.log(`${account2.accountHolder}'s balance: $${account2.getBalance().toFixed(2)}`);

        // Additional validation tests
        console.log("\nTesting transfer() validation:");
        account2.transfer(-100, account1); // Negative amount
        account2.transfer(2000, account1); // Insufficient funds

        console.log("\n");
    </script>

    <!-- ========================================
         EXERCISE 4: Vehicle Inheritance System
         ======================================== -->
    <script>
        console.log("=== EXERCISE 4: Vehicle Inheritance System ===");
        
        // Parent constructor: Vehicle
        function Vehicle(make, model, year, color) {
            this.make = make;
            this.model = model;
            this.year = year;
            this.color = color;
        }

        // Prototype method for Vehicle: getInfo()
        Vehicle.prototype.getInfo = function() {
            return `${this.year} ${this.color} ${this.make} ${this.model}`;
        };

        // Child constructor: Car
        function Car(make, model, year, color, numDoors) {
            // Call parent constructor
            Vehicle.call(this, make, model, year, color);
            this.numDoors = numDoors;
        }

        // Set up prototype chain for Car
        Car.prototype = Object.create(Vehicle.prototype);
        Car.prototype.constructor = Car;

        // Unique method for Car: honk()
        Car.prototype.honk = function() {
            console.log(`The ${this.make} ${this.model} says: Beep beep! ðŸš—`);
        };

        // Child constructor: Truck
        function Truck(make, model, year, color, bedLength) {
            // Call parent constructor
            Vehicle.call(this, make, model, year, color);
            this.bedLength = bedLength;
        }

        // Set up prototype chain for Truck
        Truck.prototype = Object.create(Vehicle.prototype);
        Truck.prototype.constructor = Truck;

        // Unique method for Truck: loadCargo()
        Truck.prototype.loadCargo = function() {
            console.log(`Loading cargo into the ${this.bedLength}-foot bed of the ${this.make} ${this.model} ðŸšš`);
        };

        // Testing: Create instances
        const myCar = new Car("Toyota", "Camry", 2023, "Silver", 4);
        const myTruck = new Truck("Chevrolet", "Silverado", 2022, "Black", 8);

        // Test Car instance
        console.log("\nTesting Car instance:");
        console.log(`Car Info: ${myCar.getInfo()}`); // Inherited method
        console.log(`Number of doors: ${myCar.numDoors}`);
        myCar.honk(); // Unique method

        // Test Truck instance
        console.log("\nTesting Truck instance:");
        console.log(`Truck Info: ${myTruck.getInfo()}`); // Inherited method
        console.log(`Bed length: ${myTruck.bedLength} feet`);
        myTruck.loadCargo(); // Unique method

        // Verify prototype chain
        console.log("\nVerifying prototype chain:");
        console.log(`myCar instanceof Car: ${myCar instanceof Car}`);
        console.log(`myCar instanceof Vehicle: ${myCar instanceof Vehicle}`);
        console.log(`myTruck instanceof Truck: ${myTruck instanceof Truck}`);
        console.log(`myTruck instanceof Vehicle: ${myTruck instanceof Vehicle}`);

        console.log("\n=== ALL EXERCISES COMPLETED ===");
    </script>
</body>
</html>
